@echo off
echo üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ Touristoo Runner...

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞...
if not exist "src" (
    echo [–û–®–ò–ë–ö–ê] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è src –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
    exit /b 1
)

if not exist "backend" (
    echo [–û–®–ò–ë–ö–ê] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è backend –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
    exit /b 1
)

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞...
if not exist "node_modules" (
    echo [–û–®–ò–ë–ö–ê] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
    exit /b 1
)

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±—ç–∫–µ–Ω–¥–∞...
if not exist "backend\node_modules" (
    echo [–û–®–ò–ë–ö–ê] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
    exit /b 1
)

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
if not exist "package.json" (
    echo [–û–®–ò–ë–ö–ê] package.json –Ω–µ –Ω–∞–π–¥–µ–Ω
    exit /b 1
)

if not exist "backend\package.json" (
    echo [–û–®–ò–ë–ö–ê] backend\package.json –Ω–µ –Ω–∞–π–¥–µ–Ω
    exit /b 1
)

if not exist "app.json" (
    echo [–û–®–ò–ë–ö–ê] app.json –Ω–µ –Ω–∞–π–¥–µ–Ω
    exit /b 1
)

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
npx tsc --noEmit
if %errorlevel% neq 0 (
    echo [–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï] –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ—à–∏–±–∫–∏ TypeScript
)

echo [–ò–ù–§–û] –ü—Ä–æ–≤–µ—Ä–∫–∞ ESLint...
npx eslint src --ext .ts,.tsx --max-warnings 0
if %errorlevel% neq 0 (
    echo [–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï] –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ESLint
)

echo [–£–°–ü–ï–•] –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É!
echo.
echo –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
echo   –∑–∞–ø—É—Å–∫-–ø—Ä–æ–µ–∫—Ç–∞.bat    - –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
echo   npm start            - –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–∞
echo   cd backend && npm run dev  - –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥–∞
echo   —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.bat     - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
echo.
pause
